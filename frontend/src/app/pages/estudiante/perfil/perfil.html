<!-- Navbar -->
<nav class="navbar">
  <div class="navbar-brand">
    <i class="fas fa-graduation-cap"></i>
    <span>AcTitUBB</span>
  </div>
  
  <div class="navbar-actions">
    <div class="action-item" (click)="volver()">
      <i class="fas fa-arrow-left"></i>
      <span>Volver</span>
    </div>
    
    <div class="action-item" (click)="cerrarSesion()">
      <i class="fas fa-sign-out-alt"></i>
      <span>Cerrar Sesión</span>
    </div>
  </div>
</nav>

<!-- Contenido principal -->
<div class="main-container">
  <!-- Header -->
  <div class="page-header">
    <div class="header-content">
      <div class="header-icon">
        <i class="fas fa-user-circle"></i>
      </div>
      <div class="header-text">
        <h1>Mi Perfil</h1>
        <p>Gestiona tu información personal</p>
      </div>
    </div>
  </div>

  <!-- Mensaje de estado -->
  <div class="alert" [ngClass]="'alert-' + tipoMensaje" *ngIf="mensaje">
    <i class="fas" [ngClass]="{
      'fa-check-circle': tipoMensaje === 'success',
      'fa-exclamation-triangle': tipoMensaje === 'error',
      'fa-info-circle': tipoMensaje === 'info'
    }"></i>
    {{ mensaje }}
  </div>

  <!-- Loading -->
  <div class="loading-container" *ngIf="loading">
    <div class="spinner"></div>
    <p>Cargando perfil...</p>
  </div>

  <!-- Formulario de perfil -->
  <div class="profile-form-container" *ngIf="!loading">
    <form class="profile-form" (ngSubmit)="guardarCambios()" #perfilForm="ngForm">
      <!-- Información Personal -->
      <div class="form-section">
        <h2>
          <i class="fas fa-user"></i>
          Información Personal
        </h2>
        
        <div class="form-row">
          <div class="form-group">
            <label for="rut">RUT</label>
            <input 
              type="text" 
              id="rut" 
              name="rut"
              [value]="estudiante.rut"
              readonly
              class="form-control readonly">
            <small class="form-text">El RUT no se puede modificar</small>
          </div>
          
          <div class="form-group">
            <label for="nombre">Nombre Completo *</label>
            <input 
              type="text" 
              id="nombre" 
              name="nombre"
              [(ngModel)]="estudiante.nombre"
              required
              class="form-control"
              placeholder="Ingresa tu nombre completo">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="email">Email *</label>
            <input 
              type="email" 
              id="email" 
              name="email"
              [(ngModel)]="estudiante.email"
              required
              class="form-control"
              placeholder="tu.email@ubiobio.cl">
          </div>
        
        </div>
      </div>

      <!-- Botones de acción -->
      <div class="form-actions">
        <button 
          type="button" 
          class="btn btn-secondary"
          (click)="volver()">
          <i class="fas fa-times"></i>
          Cancelar
        </button>
        
        <button 
          type="submit" 
          class="btn btn-primary"
          [disabled]="guardando || perfilForm.invalid">
          <div class="btn-content">
            <div class="spinner-small" *ngIf="guardando"></div>
            <i class="fas fa-save" *ngIf="!guardando"></i>
            {{ guardando ? 'Guardando...' : 'Guardar Cambios' }}
          </div>
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Footer -->
<footer class="main-footer">
  <div class="footer-content">
    <p>&copy; 2024 Universidad del Bío-Bío - Sistema de Gestión de Proyectos de Título</p>
  </div>
</footer>