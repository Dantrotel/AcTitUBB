<div class="forgot-password-container">
  <div class="forgot-password-card">
    <div class="card-header">
      <div class="icon-wrapper">
        <i class="fas fa-key"></i>
      </div>
      <h1>¿Olvidaste tu contraseña?</h1>
      <p class="subtitle">Ingresa tu correo electrónico y te enviaremos una contraseña temporal</p>
    </div>

    @if (message()) {
      <div class="alert" [class.alert-success]="messageType() === 'success'" [class.alert-error]="messageType() === 'error'">
        <i [class.fa-check-circle]="messageType() === 'success'" [class.fa-exclamation-circle]="messageType() === 'error'" class="fas"></i>
        <span>{{ message() }}</span>
      </div>
    }

    <div class="forgot-password-form">
      <form (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="email">
            <i class="fas fa-envelope"></i>
            Correo Electrónico Institucional
          </label>
          <div class="input-wrapper">
            <input
              type="email"
              id="email"
              class="form-input"
              placeholder="tucorreo@ubiobio.cl"
              [(ngModel)]="email"
              name="email"
              [disabled]="isLoading()"
              required
              autocomplete="email"
            />
            <i class="fas fa-envelope input-icon"></i>
          </div>
          <small class="hint">Debes usar tu correo institucional (&#64;ubiobio.cl o &#64;alumnos.ubiobio.cl)</small>
        </div>

        <div class="form-actions">
          <button 
            type="submit" 
            class="btn-primary"
            [disabled]="isLoading()"
          >
            <i class="fas" [class.fa-spinner]="isLoading()" [class.fa-spin]="isLoading()" [class.fa-paper-plane]="!isLoading()"></i>
            {{ isLoading() ? 'Enviando...' : 'Enviar Contraseña Temporal' }}
          </button>

          <button 
            type="button" 
            class="btn-secondary"
            (click)="goToLogin()"
            [disabled]="isLoading()"
          >
            <i class="fas fa-arrow-left"></i>
            Volver al Login
          </button>
        </div>
      </form>
    </div>

    <div class="info-box">
      <i class="fas fa-info-circle"></i>
      <div>
        <h4>¿Qué sucederá después?</h4>
        <ul>
          <li>Recibirás un correo con una contraseña temporal</li>
          <li>Inicia sesión con tu RUT y la contraseña temporal</li>
          <li>Deberás crear una nueva contraseña segura</li>
          <li>La contraseña temporal quedará inhabilitada automáticamente</li>
        </ul>
      </div>
    </div>
  </div>
</div>
